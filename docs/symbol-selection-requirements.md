# ì¢…ëª© ì„ íƒ UI ìš”êµ¬ì‚¬í•­ ë¶„ì„

## ğŸ“‹ ì¶œì²˜
edithistory.md â†’ "ì¢…ëª© ì„ íƒ/ì œì™¸ & ë ˆë²„ë¦¬ì§€" ì„¹ì…˜

---

## ğŸ¯ í•µì‹¬ ìš”êµ¬ì‚¬í•­

### 1. ì¢…ëª© ê²€ìƒ‰ì°½
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” ì¢…ëª© ê²€ìƒ‰                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [USDT] [USDC]    [ê²€ìƒ‰ì–´...]    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ ì •ë ¬: [ì•ŒíŒŒë²³ìˆœ â–¼]                  â”‚
â”‚       - ì•ŒíŒŒë²³ìˆœ                    â”‚
â”‚       - ê±°ë˜ëŸ‰ìˆœ (vol)              â”‚
â”‚       - ì‹œê°€ì´ì•¡ (cap)              â”‚
â”‚       - ìƒìŠ¹ë¥ ìˆœ (ì¼)               â”‚
â”‚       - í•˜ë½ë¥ ìˆœ (ì¼)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ê¸°ëŠ¥:**
- USDT/USDC ì¿¼í„° ì„ íƒ (íƒ­ or ë²„íŠ¼)
- ë°”ì´ë‚¸ìŠ¤ API í˜¸ì¶œ â†’ ì¢…ëª© ë¦¬ìŠ¤íŠ¸ì—…
- 5ê°€ì§€ ì •ë ¬ ê¸°ì¤€
- ë¦¬ìŠ¤íŠ¸ì—ì„œ ì¶”ê°€/ì‚­ì œ ë²„íŠ¼

### 2. ì„ íƒ ì¢…ëª© í…Œì´ë¸”
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š ì„ íƒ ì¢…ëª© (5ê°œ)                                           â”‚
â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ No â”‚ ì‹¬ë³¼ â”‚ë ˆë²„ë¦¬ì§€â”‚ í¬ì§€ì…˜ â”‚ì¶”ê°€ë§¤ìˆ˜â”‚ ë§¤ë„ â”‚ ì†ì ˆ â”‚   ì•¡ì…˜   â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚BTCUSDTâ”‚ [20x]â”‚ [ì–‘ë°©í–¥]â”‚ [O]  â”‚ [O]  â”‚ [O]  â”‚ [ì‚­ì œ]   â”‚
â”‚ 2  â”‚ETHUSDTâ”‚ [15x]â”‚  [ë¡±]  â”‚ [O]  â”‚ [O]  â”‚ [X]  â”‚ [ì‚­ì œ]   â”‚
â”‚ 3  â”‚BNBUSDTâ”‚[ê¸°ë³¸] â”‚ [ì–‘ë°©í–¥]â”‚ [O]  â”‚ [O]  â”‚ [O]  â”‚ [ì‚­ì œ]   â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’¡ í‘œì—ì„œ ì„¤ì •í•œ ê°’ì´ 'ê¸°ë³¸ ì„¤ì •' ê°’ë³´ë‹¤ ìš°ì„  ì ìš©ë©ë‹ˆë‹¤.
```

**ì»¬ëŸ¼:**
1. **No**: ìˆœë²ˆ
2. **ì‹¬ë³¼**: ì¢…ëª©ëª… (BTCUSDT ë“±)
3. **ë ˆë²„ë¦¬ì§€**: ì…ë ¥ or "ê¸°ë³¸ê°’" ì„ íƒ
4. **í¬ì§€ì…˜**: ë¡±/ìˆ/ì–‘ë°©í–¥
5. **ì¶”ê°€ë§¤ìˆ˜**: ì„ íƒ(O) / ì œì™¸(X)
6. **ë§¤ë„**: ì„ íƒ(O) / ì œì™¸(X)
7. **ì†ì ˆ**: ì„ íƒ(O) / ì œì™¸(X)
8. **ì•¡ì…˜**: ì‚­ì œ ë²„íŠ¼

**ì¸ë¼ì¸ í¸ì§‘:**
- ë ˆë²„ë¦¬ì§€: í´ë¦­ â†’ ì…ë ¥ or ë“œë¡­ë‹¤ìš´
- í¬ì§€ì…˜: ë“œë¡­ë‹¤ìš´ (long/short/both)
- ì²´í¬ë°•ìŠ¤: ì¶”ê°€ë§¤ìˆ˜/ë§¤ë„/ì†ì ˆ ì„ íƒ/ì œì™¸

### 3. ì œì™¸ ì¢…ëª© í…Œì´ë¸”
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸš« ì œì™¸ ì¢…ëª© (2ê°œ)                   â”‚
â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”¤
â”‚ No â”‚ ì‹¬ë³¼                    â”‚ ì•¡ì…˜ â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¤
â”‚ 1  â”‚ USDCUSDT (ìŠ¤í…Œì´ë¸”ì½”ì¸)  â”‚[ì‚­ì œ]â”‚
â”‚ 2  â”‚ BUSDUSDT (ìŠ¤í…Œì´ë¸”ì½”ì¸)  â”‚[ì‚­ì œ]â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”˜

ğŸ’¡ ê¸°ë³¸ ì œì™¸ í•­ëª©: ìŠ¤í…Œì´ë¸”ì½”ì¸ ìë™ í‘œì‹œ
```

### 4. ì¢…ëª© ì œì™¸ ê·œì¹™
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸ ì¢…ëª© ì œì™¸ ê·œì¹™                   â”‚
â”‚                                     â”‚
â”‚ â–¡ ìƒì¥ì¼ [7]ì¼ ì´í•˜ ì œì™¸            â”‚
â”‚ â–¡ ìƒì¥ì¼ ì •ë³´ ì—†ìŒ ì œì™¸             â”‚
â”‚                                     â”‚
â”‚ ê±°ë˜ëŸ‰ (vol):                       â”‚
â”‚   â–¡ ìƒìœ„ [10]ìœ„ ì´ìƒ ì œì™¸           â”‚
â”‚   â–¡ í•˜ìœ„ [10]ìœ„ ì´í•˜ ì œì™¸           â”‚
â”‚                                     â”‚
â”‚ ì‹œê°€ì´ì•¡ (cap):                     â”‚
â”‚   â–¡ ìƒìœ„ [5]ìœ„ ì´ìƒ ì œì™¸            â”‚
â”‚   â–¡ í•˜ìœ„ [5]ìœ„ ì´í•˜ ì œì™¸            â”‚
â”‚                                     â”‚
â”‚ ì¼ì¼ ìƒìŠ¹ë¥ :                        â”‚
â”‚   â–¡ ìƒìœ„ [10]% ì´ìƒ ì œì™¸            â”‚
â”‚   â–¡ í•˜ìœ„ [-10]% ì´í•˜ ì œì™¸           â”‚
â”‚                                     â”‚
â”‚ ì¼ì¼ í•˜ë½ë¥ :                        â”‚
â”‚   â–¡ ìƒìœ„ [10]% ì´ìƒ ì œì™¸            â”‚
â”‚   â–¡ í•˜ìœ„ [-10]% ì´í•˜ ì œì™¸           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ë™ì‘ íë¦„

### ì¢…ëª© ì¶”ê°€
```
1. ì‚¬ìš©ì: USDT íƒ­ í´ë¦­
2. ì‹œìŠ¤í…œ: ë°”ì´ë‚¸ìŠ¤ API í˜¸ì¶œ (USDT ì¢…ëª© ëª©ë¡)
3. ì‚¬ìš©ì: "ê±°ë˜ëŸ‰ìˆœ" ì„ íƒ
4. ì‹œìŠ¤í…œ: ëª©ë¡ ì •ë ¬
5. ì‚¬ìš©ì: BTCUSDT í´ë¦­ â†’ "ì¶”ê°€" ë²„íŠ¼
6. ì‹œìŠ¤í…œ: "ì„ íƒ ì¢…ëª©" í…Œì´ë¸”ì— ì¶”ê°€
7. ì‹œìŠ¤í…œ: ì œì™¸ ê·œì¹™ ì ìš© â†’ í†µê³¼í•˜ë©´ ì¶”ê°€
```

### ì¢…ëª© ì œì™¸
```
1. ì‚¬ìš©ì: "ì„ íƒ ì¢…ëª©" í…Œì´ë¸”ì—ì„œ "ì‚­ì œ" í´ë¦­
2. ì‹œìŠ¤í…œ: "ì œì™¸ ì¢…ëª©" í…Œì´ë¸”ë¡œ ì´ë™
3. ë˜ëŠ”
1. ì‚¬ìš©ì: ê²€ìƒ‰ì°½ì—ì„œ ì¢…ëª© í´ë¦­ â†’ "ì œì™¸" ë²„íŠ¼
2. ì‹œìŠ¤í…œ: "ì œì™¸ ì¢…ëª©" í…Œì´ë¸”ì— ì¶”ê°€
```

### ìˆ˜ë™ + ë­í‚¹ ì¡°í•©
```
ê¸°ë³¸ì„¤ì •: ê±°ë˜ 10ì¢…ëª©
ìˆ˜ë™ ì„ íƒ: 5ì¢…ëª© (BTC, ETH, BNB, SOL, ADA)
ë­í‚¹ ì¶”ê°€: ê±°ë˜ëŸ‰ ìƒìœ„ 20ìœ„

ì‹¤ì œ ê±°ë˜:
1. ìˆ˜ë™ 5ì¢…ëª© ìš°ì„ 
2. ë‚˜ë¨¸ì§€ 5ì¢…ëª© = ê±°ë˜ëŸ‰ ìƒìœ„ 20ìœ„ ì¤‘ ìˆœì„œëŒ€ë¡œ
   (ë‹¨, ìˆ˜ë™ 5ì¢…ëª©ê³¼ ì¤‘ë³µ ì œì™¸)
```

### ì¢…ëª© ìˆ˜ ë¯¸ë‹¬
```
ê¸°ë³¸ì„¤ì •: ê±°ë˜ 10ì¢…ëª©
í˜„ì¬ ì„ íƒ: 3ì¢…ëª©

â†’ âŒ ì˜¤ë¥˜ ì•ˆë‚´:
"ìµœì†Œ 10ê°œ ì¢…ëª©ì´ í•„ìš”í•©ë‹ˆë‹¤. í˜„ì¬ 3ê°œ ì„ íƒë¨."
```

---

## ğŸ“Š ë°ì´í„° êµ¬ì¡°

### SymbolConfig
```typescript
type SymbolConfig = {
  symbol: string; // "BTCUSDT"
  quote: 'USDT' | 'USDC';

  // Override ì„¤ì • (ê¸°ë³¸ê°’ ìš°ì„ ìˆœìœ„ ë‚®ìŒ)
  leverage?: number; // undefined = ê¸°ë³¸ê°’ ì‚¬ìš©
  positionMode?: 'long' | 'short' | 'both'; // undefined = ê¸°ë³¸ê°’
  enableScaleIn?: boolean; // undefined = ê¸°ë³¸ê°’
  enableExit?: boolean; // undefined = ê¸°ë³¸ê°’
  enableStopLoss?: boolean; // undefined = ê¸°ë³¸ê°’
};

type SymbolSelection = {
  // ìˆ˜ë™ ì„ íƒ ì¢…ëª©
  manualSymbols: SymbolConfig[];

  // ì œì™¸ ì¢…ëª©
  excludedSymbols: string[];
  excludedReasons: Record<string, string>; // "USDCUSDT": "ìŠ¤í…Œì´ë¸”ì½”ì¸"

  // ë­í‚¹ ê¸°ì¤€ (ì¶”ê°€ ì„ íƒ)
  ranking?: {
    enabled: boolean;
    criteria: 'volume' | 'marketcap' | 'gainers' | 'losers';
    top: number; // ìƒìœ„ Nê°œ
  };

  // ì œì™¸ ê·œì¹™
  exclusionRules: {
    minListingDays?: number;
    excludeUnknownListing: boolean;

    volume?: {
      excludeTop?: number; // ìƒìœ„ Nê°œ ì œì™¸
      excludeBottom?: number; // í•˜ìœ„ Nê°œ ì œì™¸
    };

    marketCap?: {
      excludeTop?: number;
      excludeBottom?: number;
    };

    dailyGain?: {
      excludeAbove?: number; // % ì´ìƒ ì œì™¸
      excludeBelow?: number; // % ì´í•˜ ì œì™¸
    };

    dailyLoss?: {
      excludeAbove?: number;
      excludeBelow?: number;
    };
  };
};
```

### MarketData (API ì‘ë‹µ)
```typescript
type MarketData = {
  symbol: string;
  quote: 'USDT' | 'USDC';
  price: number;
  volume24h: number;
  marketCap?: number;
  dailyChange: number; // %
  listingDate?: string; // ISO 8601

  // ê±°ë˜ì†Œ ì œí•œ
  minNotional: number;
  pricePrecision: number;
  quantityPrecision: number;
  maxLeverage: number;
};
```

---

## ğŸ¨ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```
SymbolSelectionPanel
â”œâ”€ SymbolSearchPanel
â”‚  â”œâ”€ QuoteTabs (USDT/USDC)
â”‚  â”œâ”€ SearchInput
â”‚  â”œâ”€ SortSelector (5ê°€ì§€)
â”‚  â””â”€ SymbolList
â”‚     â””â”€ SymbolListItem
â”‚        â”œâ”€ ì‹¬ë³¼ ì •ë³´
â”‚        â”œâ”€ [ì¶”ê°€] ë²„íŠ¼
â”‚        â””â”€ [ì œì™¸] ë²„íŠ¼
â”‚
â”œâ”€ SelectedSymbolsTable
â”‚  â”œâ”€ TableHeader
â”‚  â””â”€ TableRow[]
â”‚     â”œâ”€ No, Symbol
â”‚     â”œâ”€ LeverageInput (inline edit)
â”‚     â”œâ”€ PositionModeSelect
â”‚     â”œâ”€ EnableToggles (ì¶”ê°€ë§¤ìˆ˜/ë§¤ë„/ì†ì ˆ)
â”‚     â””â”€ DeleteButton
â”‚
â”œâ”€ ExcludedSymbolsTable
â”‚  â””â”€ TableRow[]
â”‚     â”œâ”€ No, Symbol (+ ì´ìœ )
â”‚     â””â”€ DeleteButton
â”‚
â””â”€ ExclusionRulesPanel
   â”œâ”€ ListingDaysFilter
   â”œâ”€ VolumeFilter
   â”œâ”€ MarketCapFilter
   â”œâ”€ DailyGainFilter
   â””â”€ DailyLossFilter
```

---

## ğŸ”Œ API ì—°ë™

### í•„ìš”í•œ API
```typescript
// 1. ì¢…ëª© ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
GET /api/binance/futures/symbols?quote=USDT
Response: MarketData[]

// 2. ì¢…ëª© ìƒì„¸ ì •ë³´
GET /api/binance/futures/symbol/:symbol
Response: MarketData

// 3. ì •ë ¬ëœ ì¢…ëª© ëª©ë¡
GET /api/binance/futures/symbols?quote=USDT&sort=volume&order=desc
Response: MarketData[]
```

### ê¸°ì¡´ API í™•ì¸
- `/api/trading/binance/futures-symbols/route.ts` ì¡´ì¬
- í™œìš© ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸ í•„ìš”

---

## âœ… ê²€ì¦ ê·œì¹™

### 1. ì¢…ëª© ìˆ˜ ê²€ì¦
```typescript
const minSymbols = settings.symbolCount; // ê¸°ë³¸ì„¤ì •
const selected = symbolSelection.manualSymbols.length;
const fromRanking = symbolSelection.ranking?.top || 0;

const total = selected + fromRanking;

if (total < minSymbols) {
  error(`ìµœì†Œ ${minSymbols}ê°œ ì¢…ëª©ì´ í•„ìš”í•©ë‹ˆë‹¤. í˜„ì¬ ${total}ê°œ ì„ íƒë¨.`);
}
```

### 2. ì¤‘ë³µ ê²€ì¦
```typescript
const duplicates = findDuplicates(symbolSelection.manualSymbols);
if (duplicates.length > 0) {
  error(`ì¤‘ë³µ ì¢…ëª©: ${duplicates.join(', ')}`);
}
```

### 3. ë ˆë²„ë¦¬ì§€ ê²€ì¦
```typescript
for (const config of symbolSelection.manualSymbols) {
  const market = await fetchMarketData(config.symbol);

  if (config.leverage && config.leverage > market.maxLeverage) {
    error(`${config.symbol}: ìµœëŒ€ ë ˆë²„ë¦¬ì§€ ${market.maxLeverage}ë°°ë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);
  }
}
```

---

## ğŸ“‹ ìš°ì„ ìˆœìœ„

### Phase 4.1 (í˜„ì¬)
- [x] ìš”êµ¬ì‚¬í•­ ë¶„ì„ ë° ë¬¸ì„œí™”
- [ ] ë°ì´í„° êµ¬ì¡° íƒ€ì… ì •ì˜

### Phase 4.2 (ë‹¤ìŒ)
- [ ] SymbolSearchPanel ì»´í¬ë„ŒíŠ¸
- [ ] ë°”ì´ë‚¸ìŠ¤ API ì—°ë™ í™•ì¸

### Phase 4.3
- [ ] SelectedSymbolsTable ì»´í¬ë„ŒíŠ¸
- [ ] ì¸ë¼ì¸ í¸ì§‘ ê¸°ëŠ¥

### Phase 4.4
- [ ] ExcludedSymbolsTable ì»´í¬ë„ŒíŠ¸
- [ ] ExclusionRulesPanel ì»´í¬ë„ŒíŠ¸

### Phase 4.5
- [ ] ì „ì²´ í†µí•© ë° ê²€ì¦
- [ ] í…ŒìŠ¤íŠ¸ ì‘ì„±

---

## ğŸ’¡ ê¸°ìˆ ì  ê³ ë ¤ì‚¬í•­

### ì„±ëŠ¥
- ì¢…ëª© ëª©ë¡: 1000+ ê°œ â†’ ê°€ìƒí™” ìŠ¤í¬ë¡¤ í•„ìš”
- ì •ë ¬: í´ë¼ì´ì–¸íŠ¸ vs ì„œë²„ ì‚¬ì´ë“œ
- ìºì‹±: React Query or SWR

### ìƒíƒœ ê´€ë¦¬
- í˜„ì¬: autoTradingSettingsStore (Zustand)
- ê²€ìƒ‰ì°½ ìƒíƒœ: ë¡œì»¬ state
- API ë°ì´í„°: React Query

### UI ë¼ì´ë¸ŒëŸ¬ë¦¬
- í…Œì´ë¸”: shadcn/ui Table
- ì¸ë¼ì¸ í¸ì§‘: shadcn/ui Popover + Input
- ê°€ìƒ ìŠ¤í¬ë¡¤: react-window or @tanstack/virtual

---

ìƒì„±ì¼: 2025-10-25
