# PRD (Product Requirements Document)
## Binance-Style Cryptocurrency Trading Dashboard

### 📋 프로젝트 개요
- **프로젝트명**: Binance-Style Cryptocurrency Trading Dashboard
- **목표**: 바이낸스 수준의 UI/UX를 가진 암호화폐 선물(Future) 거래 앱
- **대상 사용자**: 암호화폐 트레이더, 자동매매 시스템 운영자
- **개발 기간**: [예정]

### ✅ 현재 개발 완료 현황 (2024-XX-XX)
- **차트 MVP**
  - Lightweight Charts 기반 실시간 캔들 차트 렌더링
  - MA / Bollinger Bands / RSI / MACD / DMI 지표 편집 UI 및 상태관리
  - 드로잉(조건 강조) 설정 → 차트 마커/오버레이 반영 로직
  - MA 20·120 기본값 유지 및 드로잉 토글 시 라인 재생성 안정화
- **설정 영속화**
  - Zustand `persist`로 차트/지표 설정을 `localStorage`에 저장
  - highlight 토글 시 MA 자동 활성화 + 저장본 마이그레이션 처리
  - 지표별 “기본값” 리셋 버튼이 해당 지표만 초기화하도록 개선

> 현재 단계는 UI/UX 프로토타입으로, 거래/인증/서버 저장 등은 추후 구현 예정입니다.

### 🎯 핵심 기능 요구사항

#### 1. 차트 시스템 (최우선)
- **기본 차트 기능**
  - 실시간 캔들스틱 차트
  - 다양한 시간봉 지원 (1m, 5m, 15m, 1h, 4h, 1d)
  - 드래그/줌 기능
  - 가격 스케일 조정

- **기술적 지표** : 컨트롤 패널에서 모든 지표 모양 및 input 설정 가능하게 기능부여
  - 이동평균선 (MA) : 여러개 추가가능 default ma120
  - 볼린저밴드 (BB)
  - DMI
  - RSI
  - MACD
  - 커스텀 지표 추가 가능

- **고급 드로잉 기능** ⭐ 아래 예시 (로직선택을 위한 예비자료로 활용)
  - 캔들 high값이 볼린저밴드 상단보다 높은 부분 표시 (화살표/영역)
  - MA120 값보다 높은 구간 색상 오버레이
  - RSI 80 이상, 20 이하 구간 색상 오버레이
  - 사용자 정의 조건별 시각화
  - 선, 사각형, 원, 아이콘, 도형 그리기 도구(매수,매도 타이밍 기록도 활용)
  - 텍스트 주석 기능

#### 2. 자동매매 컨트롤 패널
- **로직 관리**
  - 매매 로직 선택/생성
  - 로직 편집기 (코드/블록 방식)
  - 로직 템플릿 라이브러리

- **분석 도구**
  - 백테스팅 결과 분석
  - 실시간 성과 모니터링
  - 리스크 분석

- **테스트 환경**
  - 시뮬레이션 모드
  - 페이퍼 트레이딩
  - 성능 지표 추적

- **컨트롤 기능**
  - 자동매매 시작/중지
  - 긴급 정지
  - 포지션 관리

#### 3. 수동 거래 기능
- **매수/매도**
  - 시장가/지정가 주문
  - 스탑로스/테이크프로핏 설정
  - 포지션 크기 계산기

- **포지션 관리**
  - 현재 포지션 현황
   - 포지션 진입시간, 펀딩비, 수수료, 수익율 등
  - 손익 실시간 추적
  - 포지션 정리 기능

#### 4. 데이터 관리
- **실시간 데이터**
  - 바이낸스 WebSocket 연결
  - 실시간 가격 업데이트
  - 거래량 데이터

- **히스토리컬 데이터**
  - 과거 차트 데이터
  - 거래 기록
  - 성과 분석 데이터

#### 5. 투자 결과 시각화
- **성과 차트**
  - 수익률 추이
  - 드로다운 분석
  - 샤프 비율
  - 승률 분석

- **리포트**
  - 일별/주별/월별/종목별 리포트
  - 거래 내역 상세
  - 세금 계산 지원

#### 6. 사용자 관리
- **인증 시스템**
  - 로그인/회원가입(supabase 인증, 구글회원가입 구현)
  - 2FA 지원
  - API 키 관리

- **권한 관리**
  - 일반 사용자
  - 관리자
  - 시스템 관리자 : 권한 부여 관리자
  - 권한별 페이지 접근 제어

#### 7. 설정 관리
- **개인 설정**
  - 차트 설정 : 설정 데이터 저장후 다시 로그인 해도 세팅값 로드
  - 알림 설정 : 조건 별도 설정
  - 테마 설정 : 다크 / 라이트

- **API 설정**
  - 바이낸스 API 키 입력
  - 권한 설정
  - 연결 상태 확인

### 🗓 향후 개발 계획 (단기 로드맵)
1. **2024 Q4 W2**
   - 드로잉/지표 설정 서버 동기화 API (`GET/PUT /api/preferences/chart`) 설계
   - 임시 로그인/회원가입 UI 와이어프레임
2. **2024 Q4 W3**
   - 수동 거래 패널 와이어프레임 및 주문 폼 UX 작성
   - CCXT 스켈레톤 + 모의 주문 엔드포인트
3. **2024 Q4 W4**
   - WebSocket 재연결/오류 처리 개선, 실시간 가격 모듈 안정화
   - 드로잉 조건/알림 저장 포맷 정규화 및 서버 저장 준비
4. **2025 Q1**
   - 사용자 인증 정식 적용 및 사용자별 설정 저장
   - 백테스트/전략 패널 프로토타입, Python 분석 파이프라인 연동
   - 포지션/거래 로그 UI 및 Supabase 스키마 1차 도입

### 🔧 기술적 요구사항

#### Frontend
- **Framework**: Next.js 15 + TypeScript
- **UI Library**: shadcn/ui + Tailwind CSS
- **State Management**: React Query + Zustand
- **Chart Library**: [고급 드로잉 기능 지원하는 라이브러리 선택 예정]

#### Backend
- **API**: Next.js API Routes
- **Trading Library**: CCXT
- **Database**: Supabase (PostgreSQL)
- **Real-time**: WebSocket + Server-Sent Events

#### Data Analysis
- **Python Integration**: 데이터 분석 및 백테스팅
- **Libraries**: pandas, numpy, scipy (예정)

#### Infrastructure
- **Database**: Supabase (무료 플랜 우선)
- **Hosting**: Vercel (무료 플랜)
- **Monitoring**: [선택 예정]

### 🎨 UI/UX 요구사항
- **바이낸스 스타일**: 다크 테마, 직관적 레이아웃, 공간 최대한 효율적 활용
- **반응형 디자인**: 데스크톱/태블릿 지원
- **실시간 업데이트**: 부드러운 애니메이션
- **접근성**: 키보드 네비게이션 지원

### 📊 성능 요구사항
- **실시간 데이터**: 1초 이내 업데이트
- **차트 렌더링**: 60fps 유지
- **페이지 로딩**: 3초 이내
- **동시 사용자**: 100명 이상 지원

### 🔒 보안 요구사항
- **API 키 암호화**: 클라이언트 사이드 저장 금지
- **HTTPS**: 모든 통신 암호화
- **입력 검증**: SQL Injection, XSS 방지
- **세션 관리**: 안전한 세션 처리
- **개발과정에서 API KEY** : .env.local 파일에서 관리, 배포시 암호화 된 db로 관리

### 📱 향후 확장 계획
- **모바일 앱**: React Native 기반
- **PWA**: 웹앱 네이티브화
- **소셜 기능**: 트레이더 커뮤니티 / 채팅기능

### 🚀 개발 우선순위
1. **Phase 1**: 기본 차트 시스템 + 드로잉 기능
2. **Phase 2**: 수동 거래 기능
3. **Phase 3**: 자동매매 시스템
4. **Phase 4**: 사용자 관리 + 권한 시스템
5. **Phase 5**: 고급 분석 + 리포트

---
*이 문서는 프로젝트 요구사항의 기준이 되며, 변경 시 반드시 팀 논의 후 업데이트합니다.*
